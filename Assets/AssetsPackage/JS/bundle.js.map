{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/GameMain.ts","webpack:///./src/UnitTest/ExtensionDeclTest.ts","webpack:///./src/UnitTest/MainTest.ts","webpack:///./src/UnitTest/TsQuickStart.ts","webpack:///external \"csharp\"","webpack:///external \"puerts\""],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/GameMain.ts\");\n","//部署:npm run build\r\n\r\nimport {UnityEngine} from 'csharp'\r\nimport {MainTest} from \"./UnitTest/MainTest\";\r\n\r\n/**\r\n * 游戏入口\r\n * @author by passion\r\n **/\r\n class GameMain {\r\n    constructor() {\r\n        console.log(\"JavaScript start running!!\");\r\n        //初始化框架\r\n        this.StartGame().then(() => {\r\n            console.log(\"game start!!\");\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 游戏启动\r\n     * @constructor\r\n     */\r\n    async StartGame() {\r\n        //启动游戏\r\n        MainTest.Run();\r\n    }\r\n}\r\n\r\nnew GameMain();","import {$extension} from 'puerts'\r\nimport {PuertsTest} from 'csharp'\r\n\r\n//要手动声明一下，否则通过obj.func引用扩展方法会失败\r\n$extension(PuertsTest.BaseClass, PuertsTest.BaseClassExtension);\r\n","import { AlgorithmTest } from \"./AlgorithmTest\";\r\nimport { ContrastLuaTest } from \"./ContrastLuaTest\";\r\nimport './TsQuickStart'\r\n\r\nexport class MainTest {\r\n    /**\r\n     * 运行ts-cs用例，单纯的ts测试写到.test.ts里面\r\n     * @constructor\r\n     */\r\n    static Run(){\r\n        // AlgorithmTest.Run()\r\n        // ContrastLuaTest.Run()\r\n    }\r\n}","//部署:npm run build\r\n\r\nimport {UnityEngine, PuertsTest, System} from 'csharp'\r\nimport {$ref, $unref, $generic, $promise, $typeof} from 'puerts'\r\nimport './ExtensionDeclTest'\r\n\r\n//静态函数\r\nUnityEngine.Debug.Log('hello world');\r\n\r\n//对象构造\r\nlet obj = new PuertsTest.DerivedClass();\r\n\r\n//实例成员访问\r\nobj.BMFunc();//父类方法\r\nobj.DMFunc(PuertsTest.MyEnum.E1);//子类方法\r\nconsole.log(obj.BMF, obj.DMF);\r\nobj.BMF = 10;//父类属性\r\nobj.DMF = 30;//子类属性\r\nconsole.log(obj.BMF, obj.DMF);\r\n\r\n//静态成员\r\nconsole.log(PuertsTest.BaseClass.BSF, PuertsTest.DerivedClass.DSF, PuertsTest.DerivedClass.BSF);\r\n\r\n//委托，事件\r\n//如果你后续不需要-=，可以像这样直接传函数当delegate\r\nobj.MyCallback = msg => console.log(\"do not need remove, msg=\" + msg);\r\n//通过new构建的delegate，后续可以拿这个引用去-=\r\nlet delegate = new PuertsTest.MyCallback(msg => console.log('can be removed, msg=' + msg));\r\n//由于ts不支持操作符重载，Delegate.Combine相当于C#里头的obj.myCallback += delegate;\r\nobj.MyCallback = System.Delegate.Combine(obj.MyCallback, delegate) as PuertsTest.MyCallback;\r\nobj.Trigger();\r\n//Delegate.Remove相当于C#里头的obj.myCallback -= delegate;\r\nobj.MyCallback = System.Delegate.Remove(obj.MyCallback, delegate) as PuertsTest.MyCallback;\r\nobj.Trigger();\r\n//事件\r\nobj.add_MyEvent(delegate);\r\nobj.Trigger();\r\nobj.remove_MyEvent(delegate);\r\nobj.Trigger();\r\n//静态事件\r\nPuertsTest.DerivedClass.add_MyStaticEvent(delegate);\r\nobj.Trigger();\r\nPuertsTest.DerivedClass.remove_MyStaticEvent(delegate);\r\nobj.Trigger();\r\n\r\n//可变参数\r\nobj.ParamsFunc(1024, 'haha', 'hehe', 'heihei');\r\n\r\n//in out 参数\r\nlet p1 = $ref(1);\r\nlet p2 = $ref(10);\r\nlet ret = obj.InOutArgFunc(100, p1, p2);\r\nconsole.log('ret=' + ret + ', out=' + $unref(p1) + ', ref='+ $unref(p2));\r\n\r\n//泛型\r\n//先通过$generic实例化泛型参数\r\nlet List = $generic(System.Collections.Generic.List$1, System.Int32);//$generic调用性能不会太好，同样泛型参数建议整个工程，至少一个文件内只做一次\r\nlet Dictionary = $generic(System.Collections.Generic.Dictionary$2, System.String, List);\r\n\r\nlet lst = new List<number>();\r\nlst.Add(1);\r\nlst.Add(0);\r\nlst.Add(2);\r\nlst.Add(4);\r\nobj.PrintList(lst);\r\nlet dic = new Dictionary<string, System.Collections.Generic.List$1<number>>();\r\ndic.Add(\"aaa\", lst)\r\nobj.PrintList(dic.get_Item(\"aaa\"));\r\n\r\n//arraybuffer\r\nlet ab  = obj.GetAb(5);\r\nlet u8a0 = new Uint8Array(ab);\r\nconsole.log(obj.SumOfAb(u8a0));\r\nlet u8a1 = new Uint8Array(2);\r\nu8a1[0] = 123;\r\nu8a1[1] = 101;\r\nconsole.log(obj.SumOfAb(u8a1));\r\n\r\n//引擎api\r\nlet go = new UnityEngine.GameObject(\"testObject\");\r\ngo.AddComponent($typeof(UnityEngine.ParticleSystem));\r\ngo.transform.position = new UnityEngine.Vector3(7, 8,  9);\r\n\r\n//extension methods\r\nobj.PlainExtension();\r\nobj.Extension1();\r\nobj.Extension2(go);\r\nlet obj1 = new PuertsTest.BaseClass1();\r\nobj.Extension2(obj1);\r\n\r\n\r\n//typescript和c#的async，await联动，为了不在低版本的Unity下报错，先注释，c#7.3以上版本可以打开这些注释\r\n/*async function asyncCall() {\r\n    let task = obj.GetFileLength(\"Assets/Examples/05_Typescript/TsQuickStart.cs\");\r\n    let result = await $promise(task);\r\n    console.log('file length is ' + result);\r\n    let task2 = obj.GetFileLength(\"notexistedfile\");//这个会抛文件找不到异常，被catch\r\n    let result2 = await $promise(task2);\r\n    console.log('file length is ,' + result2);\r\n}\r\nasyncCall().catch(e => console.error(\"catch:\" + e));*/\r\n","module.exports = require(\"csharp\");","module.exports = require(\"puerts\");"],"sourceRoot":""}